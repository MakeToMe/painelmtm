{"version":3,"file":"effect-material.min.js","names":["effectVirtualTransitionEnd","swiper","duration","transformElements","allSlides","activeIndex","params","virtualTranslate","transitionEndTarget","eventTriggered","filter","transformEl","el","classList","contains","parentElement","slides","slideEl","shadowRoot","parentNode","getSlide","getSlideIndex","forEach","callback","addEventListener","fireCallBack","e","target","call","removeEventListener","elementTransitionEnd","destroyed","animating","evt","window","CustomEvent","bubbles","cancelable","wrapperEl","dispatchEvent","SwiperElementRegisterParams","on","extendParams","materialEffect","slideSplitRatio","effect","classNames","push","containerModifierClass","isElement","hostEl","add","direction","overwriteParams","loopAdditionalSlides","watchSlidesProgress","cssMode","Object","assign","originalParams","slidesSizesGrid","size","swiperSize","slidesPerView","spaceBetween","centeredSlides","isFloatSPV","parseInt","largeSlideRatio","Math","floor","min","max","smallSlideRatio","smallSlideRatioNormalize","i","length","materialEl","querySelector","opacityEls","querySelectorAll","scaleEls","progress","offset","swiperSlideOffset","swiperTranslate","translate","scale","opacity","currentSlideSize","scaleDiff","cssModeTranslateOffset","slidesPerViewRounded","ceil","isCenteredOdd","isCenteredEven","currentProgress","abs","minus","smallWithDiff","translateAdd","style","setProperty","opacityEl","scaleEl","elementScale","parseFloat","getAttribute","Number","isNaN","transform","isHorizontal","width","height","setTranslate","_s","transitionDuration","setTransition","loop","lastItem","snapGrid","__preventObserver__","requestAnimationFrame"],"sources":["../demo-vite/effect-material.esm.js"],"sourcesContent":["if (typeof window !== 'undefined' && window.SwiperElementRegisterParams) {\n  window.SwiperElementRegisterParams(['materialEffect']);\n}\n\nfunction elementTransitionEnd(el, callback) {\n  function fireCallBack(e) {\n    if (e.target !== el) return;\n    callback.call(el, e);\n    el.removeEventListener('transitionend', fireCallBack);\n  }\n  if (callback) {\n    el.addEventListener('transitionend', fireCallBack);\n  }\n}\n\nfunction effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformElements,\n  allSlides,\n}) {\n  const { activeIndex } = swiper;\n  const getSlide = (el) => {\n    if (!el.parentElement) {\n      // assume shadow root\n      const slide = swiper.slides.filter(\n        (slideEl) => slideEl.shadowRoot && slideEl.shadowRoot === el.parentNode,\n      )[0];\n      return slide;\n    }\n    return el.parentElement;\n  };\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let transitionEndTarget;\n    if (allSlides) {\n      transitionEndTarget = transformElements;\n    } else {\n      transitionEndTarget = transformElements.filter((transformEl) => {\n        const el = transformEl.classList.contains('swiper-slide-transform')\n          ? getSlide(transformEl)\n          : transformEl;\n        return swiper.getSlideIndex(el) === activeIndex;\n      });\n    }\n    transitionEndTarget.forEach((el) => {\n      elementTransitionEnd(el, () => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const evt = new window.CustomEvent('transitionend', {\n          bubbles: true,\n          cancelable: true,\n        });\n        swiper.wrapperEl.dispatchEvent(evt);\n      });\n    });\n  }\n}\n\nexport default function EffectMaterial({ swiper, on, extendParams }) {\n  extendParams({\n    materialEffect: {\n      slideSplitRatio: 0.65,\n    },\n  });\n  const setTranslate = () => {\n    const { slides, slidesSizesGrid, params, size: swiperSize } = swiper;\n    const { slidesPerView, spaceBetween, cssMode, centeredSlides } = params;\n    const { slideSplitRatio } = params.materialEffect;\n    const isFloatSPV =\n      centeredSlides && parseInt(slidesPerView, 10) !== slidesPerView;\n\n    const largeSlideRatio = centeredSlides\n      ? isFloatSPV\n        ? (slidesPerView - Math.floor(slidesPerView)) / 2\n        : 0.5\n      : Math.min(Math.max(slideSplitRatio, 0), 1);\n    const smallSlideRatio = centeredSlides\n      ? isFloatSPV\n        ? (slidesPerView - Math.floor(slidesPerView)) / 2\n        : 0.5\n      : 1 - Math.min(Math.max(slideSplitRatio, 0), 1);\n    const smallSlideRatioNormalize = isFloatSPV\n      ? 0.5 + (0.5 - smallSlideRatio)\n      : smallSlideRatio;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = slides[i];\n      const materialEl = slideEl.querySelector('.swiper-material-wrapper');\n      const opacityEls = slideEl.querySelectorAll(\n        '.swiper-material-animate-opacity',\n      );\n      const scaleEls = slideEl.querySelectorAll('[data-swiper-material-scale]');\n      const progress = -slideEl.progress;\n\n      const offset = slideEl.swiperSlideOffset;\n      const swiperTranslate = swiper.translate;\n      let scale;\n      let translate = 0;\n      let opacity = 0;\n      const currentSlideSize = slidesSizesGrid[i];\n      const scaleDiff =\n        smallSlideRatio === 0 && !centeredSlides\n          ? 0\n          : spaceBetween / currentSlideSize;\n      const cssModeTranslateOffset = cssMode ? swiperTranslate : 0;\n      const slidesPerViewRounded = centeredSlides\n        ? Math.ceil(slidesPerView)\n        : slidesPerView;\n      const isCenteredOdd = centeredSlides && slidesPerViewRounded % 2 === 1;\n      const isCenteredEven = centeredSlides && slidesPerViewRounded % 2 === 0;\n\n      if (progress <= 0) {\n        // SLIDES BEFORE ACTIVE SLIDE / PREVIOUS\n        if (centeredSlides && slidesPerView > 1) {\n          // CENTERED/ACTIVE SLIDES\n\n          if (progress <= 0 && progress >= -(slidesPerViewRounded - 2)) {\n            translate = swiperTranslate;\n            scale = 1;\n            opacity = 1;\n          }\n          // current to zero\n          if (\n            isCenteredOdd &&\n            progress <\n              -(slidesPerViewRounded - Math.ceil(slidesPerViewRounded / 2))\n          ) {\n            const currentProgress =\n              Math.ceil(slidesPerViewRounded / 2) - Math.abs(progress);\n            scale = currentProgress;\n            opacity = scale ** 4;\n            translate =\n              swiperTranslate +\n              currentSlideSize * (1 - currentProgress) * (1 + scaleDiff * 2);\n          }\n          // current to large\n          if (\n            isCenteredEven &&\n            progress < -(slidesPerViewRounded / 2 - 1) &&\n            progress >= -(slidesPerViewRounded / 2)\n          ) {\n            const currentProgress =\n              slidesPerViewRounded / 2 - Math.abs(progress);\n\n            scale =\n              largeSlideRatio -\n              scaleDiff +\n              (smallSlideRatioNormalize + scaleDiff * 2) *\n                (slidesPerViewRounded / 2 - Math.abs(progress));\n\n            opacity = ((scale - largeSlideRatio) / (1 - largeSlideRatio)) ** 4;\n            translate =\n              swiperTranslate +\n              currentSlideSize *\n                (smallSlideRatioNormalize + scaleDiff) *\n                (1 - currentProgress);\n          }\n\n          // large to zero\n          if (isCenteredEven && progress < -slidesPerViewRounded / 2) {\n            let currentProgress =\n              slidesPerViewRounded / 2 + 1 - Math.abs(progress);\n            // let translateAdd = 0;\n            scale = 0;\n            if (currentProgress >= 0) {\n              currentProgress =\n                -scaleDiff * 2 + currentProgress * (1 + scaleDiff * 2);\n              currentProgress = Math.max(Math.min(currentProgress, 1), 0);\n              scale = (smallSlideRatio - scaleDiff) * currentProgress;\n            }\n            translate =\n              swiperTranslate +\n              currentSlideSize *\n                (smallSlideRatioNormalize + scaleDiff) *\n                (2 - currentProgress) +\n              currentSlideSize *\n                (smallSlideRatio - scaleDiff) *\n                (1 - currentProgress);\n          }\n        } else {\n          // NOT CENTERED SLIDES\n          scale = 1 + progress;\n          translate = -offset;\n          opacity = scale ** 4;\n        }\n      }\n      if (slidesPerView === 1) {\n        if (progress > 0) {\n          scale = 1 - progress;\n          translate = -offset + swiperSize * Math.min(progress, 1);\n          opacity = scale ** 4;\n        }\n      } else {\n        // ACTIVE SLIDES\n\n        if (progress > 0 && progress <= slidesPerView - 2) {\n          translate = swiperTranslate;\n          scale = 1;\n          opacity = 1;\n        }\n\n        // SLIDES AFTER ACTIVE SLIDE / NEXT\n        // large to current\n        const isLargeToCurrent = isCenteredEven\n          ? progress > slidesPerViewRounded / 2 - 1 &&\n            progress <= slidesPerViewRounded / 2\n          : progress > slidesPerViewRounded - 2 &&\n            progress <= slidesPerViewRounded - 1;\n        if (isLargeToCurrent) {\n          const minus = isCenteredEven\n            ? Math.floor(slidesPerViewRounded / 2)\n            : 1;\n          scale =\n            largeSlideRatio -\n            scaleDiff +\n            (smallSlideRatioNormalize + scaleDiff * 2) *\n              (slidesPerViewRounded - minus - Math.abs(progress));\n          translate = swiperTranslate;\n          if (largeSlideRatio === 1) {\n            opacity = scale ** 4;\n          } else {\n            opacity = ((scale - largeSlideRatio) / (1 - largeSlideRatio)) ** 4;\n          }\n        }\n        // zero to current\n        if (\n          isCenteredOdd &&\n          progress > slidesPerView - Math.ceil(slidesPerView / 2)\n        ) {\n          const currentProgress =\n            Math.ceil(slidesPerView / 2) - (slidesPerView - Math.abs(progress));\n          translate =\n            swiperTranslate -\n            currentSlideSize * (scaleDiff * 2) * currentProgress;\n          scale = 1 - currentProgress;\n          opacity = scale ** 4;\n        }\n\n        // small to large: 0.35 -> 0.65\n        if (\n          progress > slidesPerView - 1 &&\n          progress <= slidesPerView &&\n          !centeredSlides\n        ) {\n          const currentProgress = slidesPerView - Math.abs(progress);\n          const largeWithDiff = largeSlideRatio - scaleDiff;\n          const smallWithDiff = smallSlideRatio - scaleDiff;\n          scale =\n            smallWithDiff + (largeWithDiff - smallWithDiff) * currentProgress;\n          translate =\n            swiperTranslate -\n            currentSlideSize *\n              (smallSlideRatio + scaleDiff) *\n              (1 - currentProgress);\n          if (smallSlideRatio === 0) {\n            opacity = scale ** 4;\n          }\n        }\n        // zero to small: 0 -> 0.35\n        if (\n          progress >\n            (centeredSlides\n              ? slidesPerViewRounded / 2\n              : slidesPerViewRounded) &&\n          !isCenteredOdd\n        ) {\n          let currentProgress =\n            (centeredSlides\n              ? slidesPerViewRounded / 2 + 1\n              : slidesPerViewRounded + 1) - Math.abs(progress);\n          let translateAdd = 0;\n          scale = 0;\n          if (currentProgress >= 0) {\n            currentProgress =\n              -scaleDiff * 2 + currentProgress * (1 + scaleDiff * 2);\n            currentProgress = Math.max(Math.min(currentProgress, 1), 0);\n            scale = (smallSlideRatio - scaleDiff) * currentProgress;\n            translateAdd =\n              -currentProgress *\n                (smallSlideRatio + scaleDiff) *\n                currentSlideSize +\n              currentProgress * spaceBetween * (isFloatSPV ? 2 : 1);\n          }\n          translate =\n            -offset + swiperSize * Math.min(progress, 1) + translateAdd;\n          opacity = 0;\n        }\n      }\n      if (scale < 0) {\n        scale = 0;\n      }\n      if (scale > 1) {\n        scale = 1;\n      }\n      if (scale === 0) {\n        scale = 0.00001;\n      }\n\n      slideEl.style.setProperty('--swiper-material-scale', scale);\n      opacityEls.forEach((opacityEl) => {\n        opacityEl.style.opacity = opacity;\n      });\n      scaleEls.forEach((scaleEl) => {\n        let elementScale = parseFloat(\n          scaleEl.getAttribute('data-swiper-material-scale'),\n        );\n        if (Number.isNaN(elementScale) || (!elementScale && elementScale !== 0))\n          elementScale = 1;\n        scaleEl.style.transform = `scale(${\n          1 + (elementScale - 1) * (1 - scale)\n        })`;\n      });\n      if (swiper.isHorizontal()) {\n        materialEl.style.width = `${100 * scale}%`;\n        materialEl.style.transform = `translate3d(${\n          translate - cssModeTranslateOffset\n        }px, 0, 0)`;\n      } else {\n        materialEl.style.height = `${100 * scale}%`;\n        materialEl.style.transform = `translate3d(0, ${\n          translate - cssModeTranslateOffset\n        }px, 0)`;\n      }\n    }\n  };\n  const setTransition = (duration) => {\n    const { slides } = swiper;\n    const transformElements = [];\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = slides[i];\n      const materialEl = slideEl.querySelector('.swiper-material-wrapper');\n      const opacityEls = slideEl.querySelectorAll(\n        '.swiper-material-animate-opacity',\n      );\n      const scaleEls = slideEl.querySelectorAll('[data-swiper-material-scale]');\n\n      [materialEl, ...scaleEls, ...opacityEls].forEach((opacityEl) => {\n        opacityEl.style.transitionDuration = `${duration}ms`;\n      });\n\n      transformElements.push(materialEl);\n    }\n\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformElements,\n      allSlides: true,\n    });\n  };\n\n  on('beforeInit', () => {\n    if (swiper.params.effect !== 'material') return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}material`);\n    if (swiper.isElement && swiper.hostEl) {\n      swiper.hostEl.classList.add(`swiper-${swiper.params.direction}`);\n    }\n    const overwriteParams = {\n      loopAdditionalSlides: 1,\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode,\n    };\n\n    Object.assign(swiper.params, overwriteParams);\n    Object.assign(swiper.originalParams, overwriteParams);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== 'material') return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== 'material') return;\n    setTransition(duration);\n  });\n  on('slidesUpdated', () => {\n    if (\n      !swiper.params.centeredSlides &&\n      swiper.params.slidesPerView > 1 &&\n      !swiper.params.loop &&\n      swiper.params.materialEffect.slideSplitRatio < 1\n    ) {\n      const lastItem = swiper.snapGrid[swiper.snapGrid.length - 1];\n      swiper.snapGrid.push(\n        lastItem + swiper.slidesSizesGrid[0] + swiper.params.spaceBetween,\n      );\n    }\n    // eslint-disable-next-line\n    swiper.__preventObserver__ = true;\n    swiper.el.style.setProperty(\n      '--swiper-material-slide-size',\n      `${swiper.slidesSizesGrid[0]}px`,\n    );\n    requestAnimationFrame(() => {\n      // eslint-disable-next-line\n      swiper.__preventObserver__ = false;\n    });\n  });\n}\n"],"mappings":"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"}